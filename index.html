<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CoffeInDoor - Free Marketing for Cafeterias</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div>
    <h1>CoffeInDoor</h1>
    <p>Free marketing for cafeterias with low renown</p>   
    </div>
    <div class="below-header">

    <p onclick="openWin()" class="link">@CoffeInDoor</p> 
</div>
  </header>

  <main>
    <form id="cafeteriaForm" aria-label="Cafeteria submission form">
      <h2>Submit Your Cafeteria</h2>
      <label for="name">Nome da Cafeteria *</label>
      <input type="text" id="name" name="name" required placeholder="Your cafeteria's name" />

      <label for="location">Localização *</label>
      <input type="text" id="location" name="location" required placeholder="City, neighborhood, or address" />

      <label for="description">Brief Description *</label>
          <button class="round-toggle" aria-pressed="false" aria-label="Toggle button 1" type="button">Barato</button>
  <button class="round-toggle" aria-pressed="false" aria-label="Toggle button 2" type="button">Aconchegante</button>
  <button class="round-toggle" aria-pressed="false" aria-label="Toggle button 3" type="button">Rustica</button>
  <button class="round-toggle" aria-pressed="false" aria-label="Toggle button 4" type="button">Moderna</button>
    <br>
    <div class="marketing-button">
      <button class="submit">Get Free Marketing</button>
      </div>
    </form>

    <section id="cafeterias" aria-live="polite" aria-atomic="true">
      <h2>Cafeterias We Support</h2>
      <ul class="cafe-list" id="cafeteriaList">
        <!-- Cafeterias will be listed here -->
      </ul>
    </section>
  </main>

  <footer>
    &copy; 2024 CoffeInDoor. All rights reserved.
  </footer>

  <script>
  // Sample initial cafeterias with low renown
  const initialCafeterias = [
    {
      name: "The Cozy Bean",
      location: "SP, Vila Ré",
      description: "A small, family-run spot with the best homemade pastries."
    },
    {
      name: "Brew & Chat",
      location: "SP, Sol Nascente",
      description: "Friendly neighborhood cafe with a focus on community."
    },
    {
      name: "Hidden Grounds",
      location: "SP, Mooca",
      description: "A quiet place to enjoy artisan coffee and local art."
    }
  ];

  function openWin() {
    window.open("https://www.instagram.com/coffeindoor/?igsh=MTY2enAwZ3B3MHN6cA%3D%3D#");
  }

  const cafeteriaListEl = document.getElementById('cafeteriaList');
  const form = document.getElementById('cafeteriaForm');
  const toggles = document.querySelectorAll('.round-toggle');

  // Escape HTML to prevent XSS
  function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
  }

  // Function to render cafeterias in the list
  function renderCafeterias(cafeterias) {
    cafeteriaListEl.innerHTML = '';
    cafeterias.forEach(({ name, location, description }) => {
      const li = document.createElement('li');
      li.innerHTML = `
        <div class="cafe-name">${escapeHtml(name)} - <small>${escapeHtml(location)}</small></div>
        <div class="cafe-description">${escapeHtml(description || '')}</div>
      `;
      cafeteriaListEl.appendChild(li);
    });
  }

  // Load initial cafeterias
  let cafeterias = [...initialCafeterias];
  renderCafeterias(cafeterias);

  // Toggle button behavior
  toggles.forEach(button => {
    button.addEventListener('click', () => {
      button.classList.toggle('dark');
      const isPressed = button.classList.contains('dark');
      button.setAttribute('aria-pressed', isPressed);
    });
  });

  // Handle form submission
  form.addEventListener('submit', e => {
    e.preventDefault();

    const name = form.name.value.trim();
    const location = form.location.value.trim();

    if (!name || !location) {
      alert('Please fill in all required fields.');
      return;
    }

    // Get selected toggle button texts
    const selectedDescriptions = [];
    toggles.forEach(button => {
      if (button.classList.contains('dark')) {
        selectedDescriptions.push(button.textContent.trim());
      }
    });

    const description = selectedDescriptions.join(', ');

    // Add new cafeteria to the list
    cafeterias.push({ name, location, description });
    renderCafeterias(cafeterias);

    // Reset form and toggle buttons
    form.reset();
    toggles.forEach(button => {
      button.classList.remove('dark');
      button.setAttribute('aria-pressed', 'false');
    });

    // Confirmation
    alert(`Thank you, ${name}! Your cafeteria has been added for free marketing.`);
  });
</script>
</body>
</html>




